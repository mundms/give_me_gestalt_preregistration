---
title: "Data Analysis for Give me Gestalt - Cubist Art Experiment"
Authors: "Group 03"
---

# Instructions

## Required R packages
* `tidyverse` (or `ggplot2`, `dplyr`, `purrr`, `tibble`)
* `brms`
* `devtools` (for installing `faintr`)
* `rstan`
* `faintr` (install with `devtools`)

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)

```

Load the required packages and set a seed for the random number generator.
```{r}
library(tidyverse)

library(rstan)
# set cores to use to the total number of cores (minimally 4)
options(mc.cores = max(parallel::detectCores(), 4))
# save a compiled version of the Stan model file
rstan_options(auto_write = TRUE)

library(brms)

# install faintr with devtools::install_github('michael-franke/bayes_mixed_regression_tutorial/faintr', build_vignettes = TRUE))
library(faintr)


set.seed(123)

```

Step 1. Read the data and take a glimpse of it.
---

```{r}
data_raw <- read_csv("190705_prereg.csv")
glimpse(data_raw)
```


Step 2. Select only the columns of interest and filter data with too short or too long reaction times. 
---

```{r}
select(data_raw, submission_id, trial_name, trial_number, fileID, response, RT, timeSpent)
data_selection <- select(data_raw, submission_id, trial_name, trial_number, fileID, response, RT, timeSpent)
filter(data_selection, 3000 < RT, RT < 180000)
data_filtered <- filter(data_selection, 0000 < RT, RT < 1800000)

```


Step 3. Split data according to trial (Snellen-Test, b1: Liking, b2: Detactability).
---

```{r}
data_snellen <- filter(data_filtered, trial_name == "test_snellen")
data_b1 <- filter(data_filtered, trial_name == "b1_exp")
data_b2 <- filter(data_filtered, trial_name == "b2_exp")
```


Step 4. Show the data frame.
---

```{r}
show(data_snellen)
show(data_b1)
show(data_b2)
```


Step 5. Build rating means for both trials and merge the data.
---

```{r}

data_b1_mean <- group_by(data_b1, fileID) %>% summarise(mean_Like = mean(response))
data_b2_mean <- group_by(data_b2, fileID) %>% summarise(mean_Detect = mean(response))

show(data_b1_mean)
show(data_b2_mean)
```


```{r}
final_data <- merge(x = data_b2_mean, y = data_b1_mean, by = "fileID")
show(final_data)
```


Step 6. Make a boxplot of the data.
---
(This data is not representive since this is only test data.)

```{r}
ggplot(final_data, aes(x = mean_Detect, y = mean_Like)) + geom_point() + geom_smooth(method = "lm")
```

